<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>å›¾æ ‡ç”Ÿæˆå™¨</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }

    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: #1a73e8;
      margin-bottom: 20px;
    }

    .icon-display {
      display: flex;
      gap: 40px;
      margin: 30px 0;
      justify-content: center;
    }

    .icon-item {
      text-align: center;
    }

    .icon-item img {
      border: 1px solid #e0e0e0;
      border-radius: 8px;
      padding: 10px;
      background: white;
    }

    .icon-item p {
      margin-top: 10px;
      font-size: 14px;
      color: #666;
    }

    .instructions {
      background: #e3f2fd;
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }

    .instructions h3 {
      color: #1a73e8;
      margin-top: 0;
    }

    ol {
      line-height: 1.8;
    }

    .download-btn {
      display: inline-block;
      margin: 10px 5px;
      padding: 12px 24px;
      background: #1a73e8;
      color: white;
      text-decoration: none;
      border-radius: 6px;
      font-weight: 500;
      transition: background 0.2s;
    }

    .download-btn:hover {
      background: #1557b0;
    }

    code {
      background: #f0f0f0;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: monospace;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>ğŸ¨ Smart TOC å›¾æ ‡ç”Ÿæˆå™¨</h1>

    <div class="instructions">
      <h3>ä½¿ç”¨è¯´æ˜</h3>
      <ol>
        <li>é€‰æ‹©ä½ å–œæ¬¢çš„é¢œè‰²ä¸»é¢˜ï¼ˆç‚¹å‡»ä¸‹æ–¹å›¾æ ‡ï¼‰</li>
        <li>ç‚¹å‡»"ä¸‹è½½å›¾æ ‡"æŒ‰é’®è·å–æ‰€æœ‰å°ºå¯¸çš„PNGæ–‡ä»¶</li>
        <li>å°†ä¸‹è½½çš„æ–‡ä»¶ä¿å­˜åˆ° <code>/assets/</code> ç›®å½•</li>
        <li>ç¡®ä¿æ–‡ä»¶ååˆ†åˆ«ä¸º <code>icon16.png</code>ã€<code>icon48.png</code>ã€<code>icon128.png</code></li>
      </ol>
    </div>

    <h2>é»˜è®¤å›¾æ ‡ï¼ˆè“è‰²ä¸»é¢˜ï¼‰</h2>
    <div class="icon-display">
      <div class="icon-item">
        <canvas id="icon16" width="16" height="16"></canvas>
        <p>16Ã—16</p>
      </div>
      <div class="icon-item">
        <canvas id="icon48" width="48" height="48"></canvas>
        <p>48Ã—48</p>
      </div>
      <div class="icon-item">
        <canvas id="icon128" width="128" height="128"></canvas>
        <p>128Ã—128</p>
      </div>
    </div>

    <div style="text-align: center;">
      <button onclick="downloadAllIcons()" class="download-btn">ä¸‹è½½æ‰€æœ‰å›¾æ ‡ (PNG)</button>
    </div>

    <script>
      // ç»˜åˆ¶å›¾æ ‡çš„å‡½æ•°
      function drawIcon(canvas, size) {
        const ctx = canvas.getContext('2d');
        const scale = size / 128;

        // æ¸…ç©ºç”»å¸ƒ
        ctx.clearRect(0, 0, size, size);

        // ç»˜åˆ¶èƒŒæ™¯åœ†å½¢
        ctx.fillStyle = '#1a73e8';
        ctx.beginPath();
        ctx.arc(64 * scale, 64 * scale, 60 * scale, 0, Math.PI * 2);
        ctx.fill();

        // ç»˜åˆ¶æ–‡æ¡£ä¸»ä½“
        ctx.fillStyle = '#ffffff';
        ctx.fillRect(38 * scale, 28 * scale, 52 * scale, 72 * scale);

        // ç»˜åˆ¶æ–‡æ¡£æŠ˜è§’
        ctx.fillStyle = '#f0f0f0';
        ctx.beginPath();
        ctx.moveTo(80 * scale, 28 * scale);
        ctx.lineTo(90 * scale, 38 * scale);
        ctx.lineTo(80 * scale, 38 * scale);
        ctx.closePath();
        ctx.fill();

        // ç»˜åˆ¶æ ‡é¢˜è¡Œ
        ctx.fillStyle = '#1a73e8';
        ctx.globalAlpha = 0.8;
        ctx.fillRect(44 * scale, 40 * scale, 40 * scale, 6 * scale);
        ctx.globalAlpha = 1;

        // ç»˜åˆ¶ç›®å½•é¡¹
        const items = [
          { y: 56, indent: false },
          { y: 66, indent: true },
          { y: 76, indent: true },
          { y: 86, indent: false }
        ];

        ctx.fillStyle = '#666666';
        items.forEach(item => {
          // åœ†ç‚¹
          ctx.beginPath();
          ctx.arc(48 * scale, item.y * scale, 2 * scale, 0, Math.PI * 2);
          ctx.fill();

          // æ–‡æœ¬è¡Œ
          ctx.fillStyle = '#999999';
          const lineX = item.indent ? 62 * scale : 54 * scale;
          const lineWidth = item.indent ? 20 * scale : 28 * scale;
          ctx.fillRect(lineX, (item.y - 2) * scale, lineWidth, 4 * scale);

          ctx.fillStyle = '#666666';
        });

        // ç»˜åˆ¶è¿æ¥çº¿
        ctx.strokeStyle = '#cccccc';
        ctx.lineWidth = 1 * scale;
        ctx.beginPath();
        ctx.moveTo(50 * scale, 66 * scale);
        ctx.lineTo(50 * scale, 78 * scale);
        ctx.stroke();
      }

      // ä¸‹è½½å•ä¸ªå›¾æ ‡
      function downloadIcon(canvasId, filename) {
        const canvas = document.getElementById(canvasId);
        const link = document.createElement('a');
        link.download = filename;
        link.href = canvas.toDataURL('image/png');
        link.click();
      }

      // ä¸‹è½½æ‰€æœ‰å›¾æ ‡
      function downloadAllIcons() {
        downloadIcon('icon16', 'icon16.png');
        setTimeout(() => downloadIcon('icon48', 'icon48.png'), 100);
        setTimeout(() => downloadIcon('icon128', 'icon128.png'), 200);
      }

      // é¡µé¢åŠ è½½å®Œæˆåç»˜åˆ¶å›¾æ ‡
      window.addEventListener('DOMContentLoaded', () => {
        drawIcon(document.getElementById('icon16'), 16);
        drawIcon(document.getElementById('icon48'), 48);
        drawIcon(document.getElementById('icon128'), 128);
      });
    </script>
</body>

</html>